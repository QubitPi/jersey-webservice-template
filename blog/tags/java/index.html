<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">7 posts tagged with &quot;Java&quot; | Jersey Webservice Template</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://qubitpi.github.io/jersey-webservice-template/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://qubitpi.github.io/jersey-webservice-template/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://qubitpi.github.io/jersey-webservice-template/blog/tags/java"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="7 posts tagged with &quot;Java&quot; | Jersey Webservice Template"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/jersey-webservice-template/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://qubitpi.github.io/jersey-webservice-template/blog/tags/java"><link data-rh="true" rel="alternate" href="https://qubitpi.github.io/jersey-webservice-template/blog/tags/java" hreflang="en"><link data-rh="true" rel="alternate" href="https://qubitpi.github.io/jersey-webservice-template/blog/tags/java" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/jersey-webservice-template/blog/rss.xml" title="Jersey Webservice Template RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/jersey-webservice-template/blog/atom.xml" title="Jersey Webservice Template Atom Feed"><link rel="stylesheet" href="/jersey-webservice-template/assets/css/styles.4a690c07.css">
<script src="/jersey-webservice-template/assets/js/runtime~main.cd100264.js" defer="defer"></script>
<script src="/jersey-webservice-template/assets/js/main.beaff3c9.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/jersey-webservice-template/"><div class="navbar__logo"><img src="/jersey-webservice-template/img/logo.svg" alt="Jersey Webservice Template Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/jersey-webservice-template/img/logo.svg" alt="Jersey Webservice Template Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Jersey Webservice Template</b></a><a class="navbar__item navbar__link" href="/jersey-webservice-template/docs/intro">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/jersey-webservice-template/blog">Blog</a><a href="https://QubitPi.github.io/jersey-webservice-template/apidocs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/QubitPi/jersey-webservice-template" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/jersey-webservice-template/blog/weak-references">Understanding Weak References</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/jersey-webservice-template/blog/java-ee">What is Java EE</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/jersey-webservice-template/blog/bearer-authentication">Bearer Authentication</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/jersey-webservice-template/blog/java-optional">Tired of Null Pointer Exceptions? Consider Using Java SE 8&#x27;s &quot;Optional&quot;</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/jersey-webservice-template/blog/restassured-json">(RestAssured) Match JSON Ignoring Order</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><header class="margin-bottom--xl"><h1>7 posts tagged with &quot;Java&quot;</h1><a href="/jersey-webservice-template/blog/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Strong References"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/jersey-webservice-template/blog/weak-references">Understanding Weak References</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-11-24T00:00:00.000Z" itemprop="datePublished">November 24, 2023</time> · <!-- -->9 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/QubitPi" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/16126939?v=4" alt="Jack" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/QubitPi" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jack</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of Jersey Webservice Template</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="strong-references">Strong References<a href="#strong-references" class="hash-link" aria-label="Direct link to Strong References" title="Direct link to Strong References">​</a></h2>
<p>A <strong>strong reference</strong> is an ordinary Java reference, the kind you use every day. For example, the code:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">StringBuffer</span><span class="token plain"> buffer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">StringBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>creates a new <code>StringBuffer</code> and stores a strong reference to it in the variable <code>buffer</code>. Yes, yes, this is kiddie
stuff, but bear with me. <em>The important part about strong references -- the part that makes them &quot;strong&quot; -- is how they
interact with the garbage collector</em>. Specifically, if an object is reachable via a chain of strong references (strongly
reachable), it is not eligible for garbage collection. As you don&#x27;t want the garbage collector destroying objects you&#x27;re
working on, this is normally exactly what you want.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="when-strong-references-are-too-strong">When Strong References are Too Strong<a href="#when-strong-references-are-too-strong" class="hash-link" aria-label="Direct link to When Strong References are Too Strong" title="Direct link to When Strong References are Too Strong">​</a></h2>
<p>It&#x27;s not uncommon for an application to use classes that it can&#x27;t reasonably extend. The class might simply be marked
<code>final</code>, or it could be something more complicated, such as an interface returned by a factory method backed by an
unknown (and possibly even unknowable) number of concrete implementations. Suppose you have to use a class <code>Widget</code> and,
for whatever reason, it isn&#x27;t possible or practical to extend <code>Widget</code> to add new functionality.</p>
<p>What happens when you need to keep track of extra information about the object? In this case, suppose we find ourselves
needing to keep track of each Widget&#x27;s serial number, but the Widget class doesn&#x27;t actually have a serial number
property -- and because Widget isn&#x27;t extensible, we can&#x27;t add one. No problem at all, that&#x27;s what <code>HashMaps</code> are for:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">serialNumberMap</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">widget</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> widgetSerialNumber</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This might look okay on the surface, but the strong reference to widget will almost certainly cause problems. We have to
know (with 100% certainty) when a particular Widget&#x27;s serial number is no longer needed, so we can remove its entry from
the map. Otherwise we&#x27;re going to have a memory leak (if we don&#x27;t remove Widgets when we should) or we&#x27;re going to
inexplicably find ourselves missing serial numbers (if we remove Widgets that we&#x27;re still using). If these problems
sound familiar, they should: they are exactly the problems that users of non-garbage-collected languages face when
trying to manage memory, and we&#x27;re not supposed to have to worry about this in a more civilized language like Java.</p>
<p>Another common problem with strong references is caching, particular with very large structures like images. Suppose you
have an application which has to work with user-supplied images, like the web site design tool I work on. Naturally you
want to cache these images, because loading them from disk is very expensive and you want to avoid the possibility of
having two copies of the (potentially gigantic) image in memory at once. Because an image cache is supposed to prevent
us from reloading images when we don&#x27;t absolutely need to, you will quickly realize that the cache should always contain
a reference to any image which is already in memory. With ordinary strong references, though, that reference itself will
force the image to remain in memory, which requires you (just as above) to somehow determine when the image is no longer
needed in memory and remove it from the cache, so that it becomes eligible for garbage collection. Once again you are
forced to duplicate the behavior of the garbage collector and manually determine whether or not an object should be in
memory.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="weak-references">Weak References<a href="#weak-references" class="hash-link" aria-label="Direct link to Weak References" title="Direct link to Weak References">​</a></h2>
<p>A <strong>weak reference</strong>, simply put, is a reference that isn&#x27;t strong enough to force an object to remain in memory. Weak
references allow you to leverage the garbage collector&#x27;s ability to determine reachability for you, so you don&#x27;t have to
do it yourself. You create a weak reference like this:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">WeakReference</span><span class="token plain"> weakWidget </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">WeakReference</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">widget</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>and then elsewhere in the code you can use <code>weakWidget.get()</code> to get the actual Widget object. Of course the weak
reference isn&#x27;t strong enough to prevent garbage collection, so you may find (if there are no strong references to the
widget) that <code>weakWidget.get()</code> suddenly starts returning <code>null</code>.</p>
<p>To solve the &quot;widget serial number&quot; problem above, the easiest thing to do is use the built-in <code>WeakHashMap</code> class.
<code>WeakHashMap</code> works exactly like <code>HashMap</code>, except that the keys (not the values!) are referred to using weak
references. If a <code>WeakHashMap</code> key becomes garbage, its entry is removed automatically. This avoids the pitfalls
described earlier and requires no changes other than the switch from <code>HashMap</code> to a <code>WeakHashMap</code>. If you&#x27;re following
the standard convention of referring to your maps via the Map interface, no other code needs to even be aware of the
change.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reference-queues">Reference Queues<a href="#reference-queues" class="hash-link" aria-label="Direct link to Reference Queues" title="Direct link to Reference Queues">​</a></h2>
<p>Once a <code>WeakReference</code> starts returning <code>null</code>, the object it pointed to has become garbage and the <code>WeakReference</code>
object is pretty much useless. This generally means that some sort of cleanup is required; <code>WeakHashMap</code>, for example,
has to remove such defunct entries to avoid holding onto an ever-increasing number of dead <code>WeakReferences</code>.</p>
<p>The <code>ReferenceQueue</code> class makes it easy to keep track of dead references. If you pass a <code>ReferenceQueue</code> into a weak
reference&#x27;s constructor, the reference object will be automatically inserted into the reference queue when the object to
which it pointed becomes garbage. You can then, at some regular interval, process the <code>ReferenceQueue</code> and perform
whatever cleanup is needed for dead references.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="different-degrees-of-weakness">Different Degrees of Weakness<a href="#different-degrees-of-weakness" class="hash-link" aria-label="Direct link to Different Degrees of Weakness" title="Direct link to Different Degrees of Weakness">​</a></h2>
<p>Up to this point I&#x27;ve just been referring to &quot;weak references&quot;, but there are actually <strong>4 degrees of reference
strength</strong> (in order from strongest to weakest):</p>
<ol>
<li>strong</li>
<li>soft</li>
<li>weak</li>
<li>phantom</li>
</ol>
<p>We&#x27;ve already discussed strong and weak references, so let&#x27;s take a look at the other two.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="soft-references">Soft References<a href="#soft-references" class="hash-link" aria-label="Direct link to Soft References" title="Direct link to Soft References">​</a></h2>
<p>A <strong>soft reference</strong> is exactly like a weak reference, except that it is less eager to throw away the object to which it
refers. An object which is only weakly reachable will be discarded at the next garbage collection cycle, but an object
which is softly reachable will generally stick around for a while.</p>
<p>Soft references aren&#x27;t required to behave any differently than weak references, but in practice softly reachable objects
are generally retained as long as memory is in plentiful supply. <strong>This makes them an excellent foundation for a
cache</strong>, such as the image cache described above, since you can let the garbage collector worry about both how reachable
the objects are and how badly it needs the memory they are consuming.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="phantom-references">Phantom References<a href="#phantom-references" class="hash-link" aria-label="Direct link to Phantom References" title="Direct link to Phantom References">​</a></h2>
<p>A <strong>phantom reference</strong> is quite different than either soft reference or weak reference. Its grip on its object is so
tenuous that you can&#x27;t even retrieve the object - its <code>get()</code> method always returns <code>null</code>. <strong>The only use for such a
reference is keeping track of when it gets enqueued into a <code>ReferenceQueue</code>, as at that point you know the object to
which it pointed is dead</strong>. How is that different from weak reference, though?</p>
<p>The difference is in exactly when the enqueuing happens. <code>WeakReferences</code> are enqueued as soon as the object to which
they point becomes weakly reachable. This is before finalization or garbage collection has actually happened; in theory
the object could even be &quot;resurrected&quot; by an unorthodox <code>finalize()</code> method, but the <code>WeakReference</code> would remain dead.
<code>PhantomReferences</code> are enqueued only when the object is physically removed from memory, and the <code>get()</code> method always
returns <code>null</code> specifically to prevent you from being able to &quot;resurrect&quot; an almost-dead object.</p>
<p>What good are <code>PhantomReferences</code>? I&#x27;m only aware of two serious cases for them: first, they allow you to determine
exactly when an object was removed from memory. They are in fact the only way to determine that. This isn&#x27;t generally
that useful, but might come in handy in certain very specific circumstances like manipulating large images: if you know
for sure that an image should be garbage collected, you can wait until it actually is before attempting to load the next
image, and therefore make the dreaded <code>OutOfMemoryError</code> less likely.</p>
<p>Second, phantom references avoid a fundamental problem with finalization: <code>finalize()</code> methods can &quot;resurrect&quot; objects
by creating new strong references to them. So what, you say? Well, the problem is that an object which overrides
<code>finalize()</code> must now be determined to be garbage in at least two separate garbage collection cycles in order to be
collected. When the first cycle determines that it is garbage, it becomes eligible for finalization. Because of the
(slim, but unfortunately real) possibility that the object was &quot;resurrected&quot; during finalization, the garbage collector
has to run again before the object can actually be removed. And because finalization might not have happened in a timely
fashion, an arbitrary number of garbage collection cycles might have happened while the object was waiting for
finalization. This can mean serious delays in actually cleaning up garbage objects, and is why you can get
<code>OutOfMemoryErrors</code> even when most of the heap is garbage.</p>
<p>With phantom reference, this situation is impossible -- when a <code>PhantomReference</code> is enqueued, there is absolutely no
way to get a pointer to the now-dead object (which is good, because it isn&#x27;t in memory any longer). Because
<code>PhantomReference</code> cannot be used to resurrect an object, the object can be instantly cleaned up during the first
garbage collection cycle in which it is found to be phantomly reachable. You can then dispose whatever resources you
need to at your convenience.</p>
<p>Arguably, the <code>finalize()</code> method should never have been provided in the first place. phantom references are definitely
safer and more efficient to use, and eliminating <code>finalize()</code> would have made parts of the VM considerably simpler. But,
they&#x27;re also more work to implement, so I confess to still using <code>finalize()</code> most of the time. The good news is that at
least you have a choice.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/jersey-webservice-template/blog/tags/java">Java</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Java EE is a collection of specifications for developing"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/jersey-webservice-template/blog/java-ee">What is Java EE</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-11-24T00:00:00.000Z" itemprop="datePublished">November 24, 2023</time> · <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/QubitPi" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/16126939?v=4" alt="Jack" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/QubitPi" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jack</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of Jersey Webservice Template</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p><a href="https://www.oracle.com/java/technologies/java-ee-glance.html" target="_blank" rel="noopener noreferrer">Java EE</a> is a collection of specifications for developing
and deploying enterprise applications.</p>
<p>In general, enterprise applications refer to software hosted on servers that provide the applications that support the
enterprise.</p>
<p>The specifications (defined by Sun) describe services, application programming interfaces (APIs), and protocols.</p>
<p>The Java EE product provider is typically an application-server, web-server, or database-system vendor who provides
classes that implement the interfaces defined in the specifications. These vendors compete on implementations of the
Java EE specifications.</p>
<p>When a company requires Java EE experience what are they really asking for is experience using the technologies that
make up Java EE. Frequently, a company will only be using a subset of the Java EE technologies.</p>
<p>A reference implementation of Java EE is <a href="https://javaee.github.io/glassfish/documentation" target="_blank" rel="noopener noreferrer">GlassFish</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="evolution-of-java-ee">Evolution of Java EE<a href="#evolution-of-java-ee" class="hash-link" aria-label="Direct link to Evolution of Java EE" title="Direct link to Evolution of Java EE">​</a></h2>
<p>Ever heard of Java EE? How about Java 2EE, J2EE, or now Jakarta EE? Actually, these are all different names for the same
thing: a set of enterprise specifications that extend Java SE. In this section, we discuss the evolution of Java EE.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="history">History<a href="#history" class="hash-link" aria-label="Direct link to History" title="Direct link to History">​</a></h3>
<p>In the first version of Java, Java enterprise extensions were simply
<a href="http://titanium.cs.berkeley.edu/doc/java-langspec-1.0/" target="_blank" rel="noopener noreferrer">a part of the core JDK</a>.</p>
<p>Then, as part of Java 2 in 1999, these extensions were broken out of the standard binaries, and J2EE, or
<a href="https://www.oracle.com/java/technologies/appmodel.html" target="_blank" rel="noopener noreferrer">Java 2 Platform Enterprise Edition</a>, was born. It would keep
that name until 2006.</p>
<p>For Java 5 in 2006, J2EE was renamed to Java EE or Java Platform Enterprise Edition. That name would stick all the way
to September 2017, when <strong>something major happened</strong>.</p>
<p><strong>In September 2017,
<a href="https://www.redhat.com/en/blog/java-ee-moves-eclipse" target="_blank" rel="noopener noreferrer">Oracle decided to give away the rights for Java EE to the Eclipse Foundation</a>
(the language is still owned by Oracle)</strong>.</p>
<p><img loading="lazy" alt="Error loading java-evolution.png" src="data:image/png;base64,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" width="197" height="161" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="in-transition">In Transition<a href="#in-transition" class="hash-link" aria-label="Direct link to In Transition" title="Direct link to In Transition">​</a></h3>
<p>Actually, the Eclipse Foundation legally <em>had to</em> rename Java EE. That&#x27;s because Oracle has the rights over the &quot;Java&quot;
brand.</p>
<p>So to choose the new name, the community voted and picked: <strong>Jakarta EE</strong>. In a certain way, it&#x27;s still JEE.</p>
<p>This is still an evolving story, though, and the dust hasn&#x27;t completely settled. For example, while Oracle open-sourced
the source code, they did not open-source all the documentation. There&#x27;s still a lot of discussion over this matter
because of legal issues that make it tricky to open-source documentation related to, for example, JMS and EJB.</p>
<p>It&#x27;s not clear yet if new Eclipse Foundation documentation will be able to refer to the originals.</p>
<p>Also, curiously, the Eclipse Foundation can&#x27;t create any new Java packages using the javax namespace, but it can create
new classes and subclasses under the existing ones.</p>
<p>The transition also means <a href="https://www.eclipse.org/projects/efsp/" target="_blank" rel="noopener noreferrer">a new process for adding specifications</a> to Jakarta
EE. To understand it better, let&#x27;s take a look at what that process was like under Oracle and how it changes under the
Eclipse Foundation in the next section.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-future">The Future<a href="#the-future" class="hash-link" aria-label="Direct link to The Future" title="Direct link to The Future">​</a></h3>
<p>Historically, in order for a feature to make it into &quot;EE&quot;, we needed three things:</p>
<ol>
<li>a specification,</li>
<li>a reference implementation, and</li>
<li>tests</li>
</ol>
<p>These three things could be provided by anyone in the community, and an Executive Committee would decide when these were
ready to add to the language.</p>
<p>To better understand the past process, let&#x27;s take a closer look at what JSRs(specification), Glassfish(implementation),
and the TCK(test) are and how they embodied new EE features.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-jcp---efsp">The JCP -&gt; EFSP<a href="#the-jcp---efsp" class="hash-link" aria-label="Direct link to The JCP -&gt; EFSP" title="Direct link to The JCP -&gt; EFSP">​</a></h3>
<p>In the past, the process by which a new EE feature was born was called the Java Community Process
(<a href="https://jcp.org/en/home/index" target="_blank" rel="noopener noreferrer">JCP</a>).</p>
<p>Java SE still uses the JCP today. But, since EE has changed its ownership, from Oracle to the Eclipse Foundation, we
have a new and separate process for that. It&#x27;s the Eclipse Foundation Specification Process
(<a href="https://www.eclipse.org/projects/efsp/" target="_blank" rel="noopener noreferrer">EFSP</a>) and it&#x27;s an extension of the
<a href="https://www.eclipse.org/projects/dev_process" target="_blank" rel="noopener noreferrer">Eclipse Development Process</a>.</p>
<p>There are
<a href="https://blogs.eclipse.org/post/tanja-obradovic/how-eclipse-foundation-specification-process-efsp-different-java-community" target="_blank" rel="noopener noreferrer">some important differences</a>,
though, mostly around &quot;Transparency, Openness, Shared Burden and Vendor Neutrality&quot;&quot;. The EFSP organizers, for example,
envision collaborative working groups that are vendor-neutral, a certification process that is self-service, and an
organization that operates and governs as a meritocracy.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="jsrs">JSRs<a href="#jsrs" class="hash-link" aria-label="Direct link to JSRs" title="Direct link to JSRs">​</a></h3>
<p>In the JCP, the first step to adding a feature to EE was to create a JSR or Java Specification Request. The JSR was a
bit like the interface for an EE feature. The JCP Executive Committee reviewed and approved a completed JSR, and then
JSR contributors would code it up and make it available to the community.</p>
<p>A good example of this was <a href="https://jcp.org/en/jsr/detail?id=339" target="_blank" rel="noopener noreferrer">JSR-339</a>  - or JAX-RS - which was originally proposed
in 2011, approved by JCP in 2012 and finally released in 2013.</p>
<p>And while the community could always weigh in while a specification was under discussion, time showed that an
implementation-first approach – like in the case of <a href="https://jcp.org/en/jsr/detail?id=310" target="_blank" rel="noopener noreferrer">JSR 310</a>, <code>java.time</code>, and
Joda Time - tended to create more widely-accepted features and APIs.</p>
<p>So, the EFSP reflects this code-first view in its stated goal: &quot;EFSP will be based on hands-on experimenting and coding
first, as a way to prove something is worthy of documenting in a specification&quot;.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="glassfish">Glassfish<a href="#glassfish" class="hash-link" aria-label="Direct link to Glassfish" title="Direct link to Glassfish">​</a></h3>
<p>Then, as part of the JCP, a JSR needed a reference implementation. This is a bit like the class that implements the
interface. A reference implementation helps developers of compatible libraries or other organizations that want to
create their own implementation of the spec.</p>
<p>For Java EE features, the JCP used Glassfish for its reference implementations.</p>
<p>And while this centralization on Glassfish simplified the discovery process for implementers, that centralization also
required more governance and had a tendency to favor one vendor over another.</p>
<p>Hence, the EFSP doesn&#x27;t require a reference implementation, but instead only a compatible implementation. Simply put,
this subtle change makes so that <strong>implementations inside of a central architecture, like Glassfish, won&#x27;t be
inadvertently preferred by the foundation</strong>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tck">TCK<a href="#tck" class="hash-link" aria-label="Direct link to TCK" title="Direct link to TCK">​</a></h3>
<p>Finally, the JCP required that EE features be tested through the Technology Compatibility Kit, or
<a href="https://projects.eclipse.org/projects/ee4j.jakartaee-tck" target="_blank" rel="noopener noreferrer">TCK</a>.</p>
<p>The TCK was a suite of tests to validate a specific EE JSR. Simply put, in order to comply with Java EE, an application
server needs to implement all of its JSRs and pass all the tests on the designated TCK.</p>
<p>Not much changes here. Oracle open-sourced the TCK as well as the EE JSRs. Of course, all future documents and the TCK
will be open-source.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/jersey-webservice-template/blog/tags/java">Java</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/jersey-webservice-template/blog/tags/standard">Standard</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Make your code more readable and protect it against null pointer exceptions."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/jersey-webservice-template/blog/java-optional">Tired of Null Pointer Exceptions? Consider Using Java SE 8&#x27;s &quot;Optional&quot;</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-11-23T00:00:00.000Z" itemprop="datePublished">November 23, 2023</time> · <!-- -->11 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/QubitPi" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/16126939?v=4" alt="Jack" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/QubitPi" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jack</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of Jersey Webservice Template</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Make your code more readable and protect it against null pointer exceptions.</p>
<p>A wise man once said you are not a real Java programmer until you&#x27;ve dealt with a null pointer exception. Joking aside,
the null reference is the source of many problems because it is often used to denote the absence of a value. Java SE 8
introduces a new class called <strong>java.util.Optional</strong> that can alleviate some of these problems.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="dangers-of-null">Dangers of Null<a href="#dangers-of-null" class="hash-link" aria-label="Direct link to Dangers of Null" title="Direct link to Dangers of Null">​</a></h2>
<p>Let&#x27;s start with an example to see the dangers of null by considering a nested object structure for a <code>Computer</code>, as
illustrated in Figure below</p>
<p><img loading="lazy" alt="Error loading java-optional-computer.png" src="/jersey-webservice-template/assets/images/java-optional-computer-1bc0c3f95c53bca9751cccc2d7c17534.png" width="277" height="255" class="img_ev3q"></p>
<p>What&#x27;s possibly problematic with the following code?</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">String</span><span class="token plain"> version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> computer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getSoundcard</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getUSB</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getVersion</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This code looks pretty reasonable. However, many computers (for example, the Raspberry Pi) don&#x27;t actually ship with a
sound card. So what is the result of <code>getSoundcard()</code>?</p>
<p>A common (bad) practice is to return the null reference to indicate the absence of a sound card. Unfortunately, this
means the call to <code>getUSB()</code> will try to return the USB port of a null reference, which will result in a
<code>NullPointerException</code> at runtime and stop your program from running further. Imagine if your program was running on a
customer&#x27;s machine; what would your customer say if the program suddenly failed?</p>
<p>To give some historical context, Tony Hoare - one of the giants of computer science - wrote, &quot;I call it my
billion-dollar mistake. It was the invention of the null reference in 1965. I couldn&#x27;t resist the temptation to put in
a null reference, simply because it was so easy to implement.&quot;</p>
<p>What can you do to prevent unintended null pointer exceptions? You can be defensive and add checks to prevent null
dereferences, as shown below:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">String</span><span class="token plain"> version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;UNKNOWN&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">computer </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Soundcard</span><span class="token plain"> soundcard </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> computer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getSoundcard</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">soundcard </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">USB</span><span class="token plain"> usb </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> soundcard</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getUSB</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">usb </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> usb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getVersion</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>However, you can see that the code quickly becomes very ugly due to the nested checks. Unfortunately, we need a lot of
boilerplate code to make sure we don&#x27;t get a NullPointerException. In addition, it&#x27;s just annoying that these checks get
in the way of the business logic. In fact, they are decreasing the overall readability of our program.</p>
<p>Furthermore, it is an error-prone process; what if you forget to check that one property could be null? I will argue in
this post that using null to represent the absence of a value is a wrong approach. What we need is a better way to
model the absence and presence of a value.</p>
<p>To give some context, let&#x27;s briefly look at what other programming languages have to offer.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-alternatives-to-null-are-there">What Alternatives to Null Are There<a href="#what-alternatives-to-null-are-there" class="hash-link" aria-label="Direct link to What Alternatives to Null Are There" title="Direct link to What Alternatives to Null Are There">​</a></h2>
<p>Languages such as Groovy have a <em>safe navigation operator</em> represented by &quot;?.&quot; to safely navigate through potential
null references. (Note that it is soon to be included in C#, too, and it was proposed for Java SE 7 but didn&#x27;t make it
into that release.) It works as follows:</p>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">String version = computer?.getSoundcard()?.getUSB()?.getVersion()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this case, the variable &quot;version&quot; will be assigned to null if <code>computer</code> is null, or <code>getSoundcard()</code> returns null,
or <code>getUSB()</code> returns null. You don&#x27;t need to write complex nested conditions to check for null.</p>
<p>In addition, Groovy also includes the <em>Elvis operator</em> &quot;?:&quot; (if you look at it sideways, you&#x27;ll recognize Elvis&#x27; famous
hair), which can be used for simple cases when a default value is needed. In the following, if the expression that uses
the safe navigation operator returns null, the default value &quot;UNKNOWN&quot; is returned; otherwise, the available version
tag is returned.</p>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">String version = computer?.getSoundcard()?.getUSB()?.getVersion() ?: &quot;UNKNOWN&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Other functional languages, such as Haskell and Scala, take a different view. Haskell includes a <strong>Maybe</strong> type, which
essentially encapsulates an optional value. A value of type Maybe can contain either a value of a given type or
nothing. There is no concept of a null reference. Scala has a similar construct called <strong>Option[T]</strong> to encapsulate
the presence or absence of a value of type <code>T</code>. You then have to explicitly check whether a value is present or not
using operations available on the <code>Option</code> type, which enforces the idea of &quot;null checking.&quot; <strong>You can no longer
&quot;forget to do it&quot; because it is enforced by the type system</strong>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="java-8-optional-in-a-nutshell">Java 8 <em>Optional</em> in a Nutshell<a href="#java-8-optional-in-a-nutshell" class="hash-link" aria-label="Direct link to java-8-optional-in-a-nutshell" title="Direct link to java-8-optional-in-a-nutshell">​</a></h2>
<p>Java SE 8 introduces a new class called <code>java.util.Optional&lt;T&gt;</code> that is inspired from the ideas of Haskell and Scala.
It is a class that encapsulates an optional value, as illustrated in figure below. You can view <code>Optional</code> as a
single-value container that either contains a value or doesn&#x27;t (it is then said to be &quot;empty&quot;):</p>
<p><img loading="lazy" alt="Error loading java-optional-eg.png" src="/jersey-webservice-template/assets/images/java-optional-eg-8885f6b471abfed0f95a6847eb88afaa.png" width="382" height="224" class="img_ev3q"></p>
<p>We can update our model to make use of Optional, as shown in Listing 2:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Computer</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token class-name">Optional</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Soundcard</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> soundcard</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token class-name">Optional</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Soundcard</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getSoundcard</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Soundcard</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token class-name">Optional</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics">USB</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> usb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token class-name">Optional</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics">USB</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getUSB</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">USB</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getVersion</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The code above immediately shows that a computer might or might not have a sound card (the sound card is optional). In
addition, a sound card can optionally have a USB port. This is an improvement, because this new model can now reflect
clearly whether a given value is allowed to be missing.</p>
<p>But what can you actually do with an <code>Optional&lt;Soundcard&gt;</code> object? After all, you want to get to the USB port&#x27;s version
number. In a nutshell, the <code>Optional</code> class includes methods to explicitly deal with the cases where a value is present
or absent. However, the advantage compared to null references is that the <code>Optional</code> class forces us to think about the
case when the value is not present. As a consequence, we can prevent unintended null pointer exceptions.</p>
<p>It is important to note that the intention of the <code>Optional</code> class is not to replace every single null reference.
Instead, its purpose is to help design more-comprehensible APIs so that by just reading the signature of a method, you
can tell whether you can expect an optional value. This forces you to actively unwrap an <code>Optional</code> to deal with the
absence of a value.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-optional">Using Optional<a href="#using-optional" class="hash-link" aria-label="Direct link to Using Optional" title="Direct link to Using Optional">​</a></h2>
<p>The Groovy code above can be written with Optional in Java as</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">String</span><span class="token plain"> name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> computer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">flatMap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Computer</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getSoundcard</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">flatMap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Soundcard</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getUSB</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">USB</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getVersion</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">orElse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;UNKNOWN&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-optional-objects">Creating Optional Objects<a href="#creating-optional-objects" class="hash-link" aria-label="Direct link to Creating Optional Objects" title="Direct link to Creating Optional Objects">​</a></h3>
<p>First, how do you create Optional objects? There are several ways:</p>
<p>Here is an empty Optional:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">Optional</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Soundcard</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> sc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">Optional</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">empty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And here is an <code>Optional</code> with a non-null value:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">Optional</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Soundcard</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> sc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">Optional</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">of</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Soundcard</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the case above, if soundcard were null, a NullPointerException would be immediately thrown (rather than getting a
latent error once you try to access properties of the soundcard)</p>
<p>By using <strong>ofNullable</strong>, however, you can create an Optional object that may hold a null value:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">Optional</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Soundcard</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> sc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">Optional</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">ofNullable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">soundcard</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If soundcard were null, the resulting <code>Optional</code> object would be empty.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="do-something-if-a-value-is-present">Do Something If a Value Is Present<a href="#do-something-if-a-value-is-present" class="hash-link" aria-label="Direct link to Do Something If a Value Is Present" title="Direct link to Do Something If a Value Is Present">​</a></h3>
<p>Now that you have an Optional object, you can access the methods available to explicitly deal with the presence or
absence of values. Instead of having to remember to do a null check, as follows:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">SoundCard</span><span class="token plain"> soundcard </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">soundcard </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">soundcard</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can use the <strong>ifPresent()</strong> method, as follows:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">Optional</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">Soundcard</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> soundcard </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">soundcard</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">ifPresent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">out</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">println</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You no longer need to do an explicit null check; it is enforced by the type system. If the Optional object were empty,
nothing would be printed.</p>
<p>You can also use the <strong>isPresent()</strong> method to find out whether a value is present in an Optional object. In addition,
there&#x27;s a <strong>get()</strong> method that returns the value contained in the Optional object, if it is present. <em>Otherwise,
it throws a NoSuchElementException</em>. The two methods can be combined, as follows, to prevent exceptions:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">soundcard</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">isPresent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">soundcard</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>However, this is not the recommended use of Optional because it&#x27;s not much of an improvement over nested null checks,
and there are more idiomatic alternatives, which we explore below.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="default-values-and-actions">Default Values and Actions<a href="#default-values-and-actions" class="hash-link" aria-label="Direct link to Default Values and Actions" title="Direct link to Default Values and Actions">​</a></h3>
<p>A typical pattern is to return a default value if you determine that the result of an operation is null. In general,
you can use the ternary operator, as follows, to achieve this:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">Soundcard</span><span class="token plain"> soundcard </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> maybeSoundcard </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> maybeSoundcard </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Soundcard</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;basic_sound_card&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Using an Optional object, you can rewrite this code by using the <strong>orElse()</strong> method, which provides a default value if
Optional is empty:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">Soundcard</span><span class="token plain"> soundcard </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> maybeSoundcard</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">orElse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Soundcard</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;defaut&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Similarly, you can use the <strong>orElseThrow()</strong> method, which instead of providing a default value if Optional is empty,
throws an exception:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">Soundcard</span><span class="token plain"> soundcard </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> maybeSoundCard</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">orElseThrow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">IllegalStateException</span><span class="token operator" style="color:#393A34">::</span><span class="token keyword" style="color:#00009f">new</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rejecting-certain-values-using-the-filter-method">Rejecting Certain Values Using the filter Method<a href="#rejecting-certain-values-using-the-filter-method" class="hash-link" aria-label="Direct link to Rejecting Certain Values Using the filter Method" title="Direct link to Rejecting Certain Values Using the filter Method">​</a></h3>
<p>Often you need to call a method on an object and check some property. For example, you might need to check whether the
USB port is a particular version. To do this in a safe way, you first need to check whether the reference pointing to a
USB object is null and then call the <code>getVersion()</code> method, as follows:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">USB</span><span class="token plain"> usb </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">usb </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;3.0&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">usb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getVersion</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;ok&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This pattern can be rewritten using the <strong>filter</strong> method on an Optional object, as follows:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">Optional</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics">USB</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> maybeUSB </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">maybeUSB</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">usb </span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;3.0&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">usb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getVersion</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">ifPresent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;ok&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>filter</code> method takes a predicate as an argument. If a value is present in the <code>Optional</code> object and it matches the
predicate, the filter method returns that value; otherwise, it returns an empty <code>Optional</code> object.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="extracting-and-transforming-values-using-the-map-method">Extracting and Transforming Values Using the map Method<a href="#extracting-and-transforming-values-using-the-map-method" class="hash-link" aria-label="Direct link to Extracting and Transforming Values Using the map Method" title="Direct link to Extracting and Transforming Values Using the map Method">​</a></h3>
<p>Another common pattern is to extract information from an object. For example, from a <code>Soundcard</code> object, you might want
to extract the USB object and then further check whether it is of the correct version. You would typically write the
following code:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">soundcard </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">USB</span><span class="token plain"> usb </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> soundcard</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getUSB</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">usb </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;3.0&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">usb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getVersion</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;ok&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>We can rewrite this pattern of &quot;checking for null and extracting&quot; (here, the <code>Soundcard</code> object) using the map method.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">Optional</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics">USB</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> usb </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> maybeSoundcard</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Soundcard</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getUSB</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>There&#x27;s a direct parallel to the <code>map</code> method used with streams. There, you pass a function to the <code>map</code> method, which
applies this function to each element of a stream. However, nothing happens if the stream is empty. The <code>map</code> method of
the <code>Optional</code> class does exactly the same: the value contained inside <code>Optional</code> is &quot;transformed&quot; by the function
passed as an argument (here, a method reference to extract the USB port), while nothing happens if <code>Optional</code> is empty.</p>
<p>Finally, we can combine the <code>map</code> method with the <code>filter</code> method to reject a USB port whose version is different than
3.0:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">maybeSoundcard</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Soundcard</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getUSB</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">usb </span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;3.0&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">usb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getVersion</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">ifPresent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;ok&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cascading-optional-objects-using-the-flatmap-method">Cascading Optional Objects Using the flatMap Method<a href="#cascading-optional-objects-using-the-flatmap-method" class="hash-link" aria-label="Direct link to Cascading Optional Objects Using the flatMap Method" title="Direct link to Cascading Optional Objects Using the flatMap Method">​</a></h3>
<p>We&#x27;ve seen a few patterns that can be refactored to use Optional. So how can we write the following code in a safe way?</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">String</span><span class="token plain"> version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> computer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getSoundcard</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getUSB</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getVersion</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Notice that all this code does is extract one object from another one, which is exactly what the map method is for.
Earlier in the article, we changed our model so a Computer has an <code>Optional&lt;Soundcard&gt;</code> and a Soundcard has an
<code>Optional&lt;USB&gt;</code>, so we should be able to write the following:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">String</span><span class="token plain"> version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> computer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Computer</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getSoundcard</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Soundcard</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getUSB</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">USB</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getVersion</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">orElse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;UNKNOWN&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Unfortunately, this code doesn&#x27;t compile. Why? The variable computer is of type <code>Optional&lt;Computer&gt;</code>, so it is
perfectly correct to call the <code>map</code> method. However, <code>getSoundcard()</code> returns an object of type <code>Optional&lt;Soundcard&gt;</code>.
This means the result of the <code>map</code> operation is an object of type <code>Optional&lt;Optional&lt;Soundcard&gt;&gt;</code>. As a result, the
call to <code>getUSB()</code> is invalid because the outermost Optional contains as its value another Optional, which of course
doesn&#x27;t support the <code>getUSB()</code> method</p>
<p>So how can we solve this problem? Again, we can look at a pattern you might have used previously with streams: the
<strong>flatMap</strong> method. With streams, the <code>flatMap</code> method takes a function as an argument, which returns another stream.
This function is applied to each element of a stream, which would result in a stream of streams. However, <code>flatMap</code> has
the effect of replacing each generated stream by the contents of that stream. In other words, all the separate streams
that are generated by the function get amalgamated or &quot;flattened&quot; into one single stream. What we want here is
something similar, but we want to &quot;flatten&quot; a two-level Optional into one.</p>
<p>Well, here&#x27;s good news: <code>Optional</code> also supports a <code>flatMap</code> method. Its purpose is to apply the transformation
function on the value of an <code>Optional</code> and then flatten the resulting two-level Optional into a single one.</p>
<p>So, to make our code correct, we need to rewrite it as follows using <code>flatMap</code>:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">String</span><span class="token plain"> version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> computer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">flatMap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Computer</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getSoundcard</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">flatMap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Soundcard</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getUSB</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">USB</span><span class="token operator" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getVersion</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">orElse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;UNKNOWN&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The first flatMap ensures that an <code>Optional&lt;Soundcard&gt;</code> is returned instead of an <code>Optional&lt;Optional&lt;Soundcard&gt;&gt;</code>, and
the second flatMap achieves the same purpose to return an <code>Optional&lt;USB&gt;</code>. Note that the third call just needs to be a
map() because getVersion() returns a String rather than an <code>Optional</code> object.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/jersey-webservice-template/blog/tags/java">Java</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Use RestAssured&#x27;s JsonPath to parse the JSON file into a Map and then compare it with Hamcrest Matchers. This way the"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/jersey-webservice-template/blog/restassured-json">(RestAssured) Match JSON Ignoring Order</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-11-19T00:00:00.000Z" itemprop="datePublished">November 19, 2023</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/QubitPi" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/16126939?v=4" alt="Jack" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/QubitPi" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jack</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of Jersey Webservice Template</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Use RestAssured&#x27;s JsonPath to parse the JSON file into a Map and then compare it with Hamcrest Matchers. This way the
order didn&#x27;t matter.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token import static namespace" style="opacity:0.7">org</span><span class="token import static namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import static namespace" style="opacity:0.7">hamcrest</span><span class="token import static namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import static class-name">Matchers</span><span class="token import static punctuation" style="color:#393A34">.</span><span class="token import static">equalTo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">io</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">restassured</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">path</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">json</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">JsonPath</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">JsonPath</span><span class="token plain"> expectedJson </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">JsonPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">File</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/path/to/expected.json&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">given</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">body</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">equalTo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expectedJson</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getMap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/jersey-webservice-template/blog/tags/java">Java</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/jersey-webservice-template/blog/tags/testing">Testing</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="A Provider is an interface defined in JSR 330. It is part of the general dependency"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/jersey-webservice-template/blog/provider">Provider v.s. @Provider</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-11-18T00:00:00.000Z" itemprop="datePublished">November 18, 2023</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/QubitPi" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/16126939?v=4" alt="Jack" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/QubitPi" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jack</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of Jersey Webservice Template</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>A <strong>Provider</strong> is an interface defined in <a href="https://qubitpi.github.io/javax-inject/api/javax/inject/Provider.html" target="_blank" rel="noopener noreferrer">JSR 330</a>. It is part of the <em>general</em> dependency
injection concept in Java.</p>
<p>Whether we are on Java SR or EE, Provider will always be loadable from classpath. For example, the <a href="https://qubitpi.github.io/glassfish-hk2/" target="_blank" rel="noopener noreferrer">HK2</a> is an
implementation of JSR-330 in a JavaSE environment and it conforms to the JSR 330 standard by loading the
<a href="https://qubitpi.github.io/javax-inject/api/javax/inject/Provider.html" target="_blank" rel="noopener noreferrer">Provider</a> in its implementations.</p>
<p><strong>@Provider</strong>, on the other hand, is a
<a href="https://github.com/jakartaee/rest/blob/master/jaxrs-api/src/main/java/jakarta/ws/rs/ext/Provider.java" target="_blank" rel="noopener noreferrer"><em>Java EE/Jakarta EE concept</em></a>.
If we are developing Java EE applications, we can use both (<code>Provider</code> &amp; <code>@Provider</code>) at the same time.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/jersey-webservice-template/blog/tags/java">Java</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Environment Variables"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/jersey-webservice-template/blog/env-var-in-pom">Refer to Environment Variables in POM</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2019-08-23T00:00:00.000Z" itemprop="datePublished">August 23, 2019</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/QubitPi" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/16126939?v=4" alt="Jack" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/QubitPi" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jack</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of Jersey Webservice Template</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="environment-variables">Environment Variables<a href="#environment-variables" class="hash-link" aria-label="Direct link to Environment Variables" title="Direct link to Environment Variables">​</a></h2>
<p>To refer to environment variables from the pom.xml, we can use the <code>${env.VARIABLE_NAME}</code> syntax.</p>
<p>For instance, let&#x27;s use it to externalize the Java version in the build process:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">build</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugins</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.apache.maven.plugins</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">maven-compiler-plugin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">3.8.1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">source</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${env.JAVA_VERSION}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">source</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">target</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${env.JAVA_VERSION}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">target</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugins</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">build</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>We should remember to pass the Java version information via environment variables. If we fail to do so, then we won&#x27;t be
able to build the project.</p>
<p>To run the Maven goals or phases against such a build file, we should first export the environment variable. For
instance</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">JAVA_VERSION</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">17</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mvn clean package</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In order to provide a default when the <code>JAVA_VERSION</code> environment variable is missing we can use a Maven profile:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">profiles</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">profile</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">default-java</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">activation</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">!env.JAVA_VERSION</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">property</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">activation</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">build</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugins</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.apache.maven.plugins</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">maven-compiler-plugin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">3.8.1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">source</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1.8</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">source</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">target</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1.8</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">target</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugins</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">build</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">profile</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">profiles</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>As shown above, we&#x27;re creating a profile and making it active only if the <code>JAVA_VERSION</code> environment variable is missing
(<code>!env.JAVA_VERSION</code> part). If that happens, then this new plugin definition will override the existing one.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/jersey-webservice-template/blog/tags/java">Java</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/jersey-webservice-template/blog/tags/maven">Maven</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="System Properties"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/jersey-webservice-template/blog/java-env-properties">Java System Properties &amp; Environment Variables API&#x27;s</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2019-08-07T00:00:00.000Z" itemprop="datePublished">August 7, 2019</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/QubitPi" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/16126939?v=4" alt="Jack" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/QubitPi" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jack</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of Jersey Webservice Template</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="system-properties">System Properties<a href="#system-properties" class="hash-link" aria-label="Direct link to System Properties" title="Direct link to System Properties">​</a></h2>
<p>The Java platform uses a <strong>Properties</strong> object to provide information about the local system and configuration, and we
call it <strong>System Properties</strong>.</p>
<p>System Properties include information such as the current user, the current version of the Java runtime, and the file
path-name separator.</p>
<p>In the below code, we use <code>System.getProperty(&quot;log_dir&quot;)</code> to read the value of the property <code>log_dir</code>. We also make use
of the default value parameter, so if the property doesn&#x27;t exist, getProperty returns <code>/tmp/log</code>:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">String</span><span class="token plain"> log_dir </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getProperty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;log_dir&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;/tmp/log&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To update System Properties at runtime, we use the <strong>System.setProperty</strong> method:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setProperty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;log_dir&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/tmp/log&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>We can pass our own properties or configurations values to the application using the <strong>propertyName</strong> command line
argument:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">java </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">jar jarName </span><span class="token operator" style="color:#393A34">-</span><span class="token class-name">DpropertyName</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">value</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For example</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">java </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">jar app </span><span class="token operator" style="color:#393A34">-</span><span class="token class-name">Dfoo</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;bar&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="environment-variables">Environment Variables<a href="#environment-variables" class="hash-link" aria-label="Direct link to Environment Variables" title="Direct link to Environment Variables">​</a></h2>
<p>Environment Variables are key/value pairs like Properties. Many Operating Systems use Environment Variables to allow
<em>configuration information to be passed into applications</em>.</p>
<p>The way to set an environment variable differs from one operating system to another. For example, on Linux, we use</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">MY_ENV_VAR</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">foo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em>When creating a process, it inherits a clone environment of its parent process by default</em>.</p>
<p>To obtain a single environment variable programmatically, we can call <strong>getenv</strong> with the variable name:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">String</span><span class="token plain"> log_dir </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getenv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;log_dir&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>getenv() returns a <em>read-only</em> Map. Trying to add values to the map throws an UnsupportedOperationException.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-differences">The Differences<a href="#the-differences" class="hash-link" aria-label="Direct link to The Differences" title="Direct link to The Differences">​</a></h2>
<p>Although both are essentially maps that provide String values for String keys, let&#x27;s look at a few differences:</p>
<ol>
<li>We can update Properties at runtime, while Environment Variables are an immutable copy of the Operating System&#x27;s
variables.</li>
<li>Properties are contained only within the Java platform, while Environment Variables are global at the Operating
System level, available to all applications running on the same machine.</li>
<li>Properties must exist when packaging the application, but we can create Environment Variables on the Operating
System at almost any point.</li>
</ol></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/jersey-webservice-template/blog/tags/java">Java</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/jersey-webservice-template/docs/intro">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/jersey" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/jersey-webservice-template/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/QubitPi/jersey-webservice-template" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Jiaqi Liu. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>